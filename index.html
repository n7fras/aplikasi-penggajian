<script>
function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(sendLocation, showError);
  } else {
    alert("Browser Anda tidak mendukung geolokasi.");
  }
}

function sendLocation(position) {
  const latitude = position.coords.latitude;
  const longitude = position.coords.longitude;

  fetch("https://digitrans-tech.com/simpan-lokasi.php", {
    method: "POST",
    headers: {
      "Content-Type": "application/x-www-form-urlencoded"
    },
    body: `latitude=${latitude}&longitude=${longitude}`
  })
  .then(response => response.text())
  .then(text => {
    alert("Lokasi berhasil dikirim!");
  })
  .catch(error => {
    alert("Gagal mengirim lokasi.");
    console.error("Error:", error);
  });
}

function showError(error) {
  alert("Gagal mendapatkan lokasi: " + error.message);
}
</script>
